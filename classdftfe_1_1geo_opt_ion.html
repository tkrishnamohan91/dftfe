<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DFT-FE: dftfe::geoOptIon&lt; FEOrder, FEOrderElectro &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DFT-FE<span id="projectnumber">&#160;1.1.0-pre</span>
   </div>
   <div id="projectbrief">Density Functional Theory With Finite-Elements</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedftfe.html">dftfe</a></li><li class="navelem"><a class="el" href="classdftfe_1_1geo_opt_ion.html">geoOptIon</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdftfe_1_1geo_opt_ion-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dftfe::geoOptIon&lt; FEOrder, FEOrderElectro &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>problem class for atomic force relaxation solver.  
 <a href="classdftfe_1_1geo_opt_ion.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="geo_opt_ion_8h_source.html">geoOptIon.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dftfe::geoOptIon&lt; FEOrder, FEOrderElectro &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdftfe_1_1geo_opt_ion.png" usemap="#dftfe::geoOptIon_3C_20FEOrder_2C_20FEOrderElectro_20_3E_map" alt=""/>
  <map id="dftfe::geoOptIon_3C_20FEOrder_2C_20FEOrderElectro_20_3E_map" name="dftfe::geoOptIon_3C_20FEOrder_2C_20FEOrderElectro_20_3E_map">
<area href="classdftfe_1_1nonlinear_solver_problem.html" title="Abstract class for solver functions." alt="dftfe::nonlinearSolverProblem" shape="rect" coords="0,0,274,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a898d109d571db531f1c517abb5016bba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a898d109d571db531f1c517abb5016bba">geoOptIon</a> (<a class="el" href="classdftfe_1_1dft_class.html">dftClass</a>&lt; FEOrder, FEOrderElectro &gt; *_dftPtr, const MPI_Comm &amp;mpi_comm_parent)</td></tr>
<tr class="memdesc:a898d109d571db531f1c517abb5016bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classdftfe_1_1geo_opt_ion.html#a898d109d571db531f1c517abb5016bba">More...</a><br /></td></tr>
<tr class="separator:a898d109d571db531f1c517abb5016bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7475557639df536d97909a564bba74d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#af7475557639df536d97909a564bba74d">init</a> ()</td></tr>
<tr class="memdesc:af7475557639df536d97909a564bba74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the data member d_relaxationFlags.  <a href="classdftfe_1_1geo_opt_ion.html#af7475557639df536d97909a564bba74d">More...</a><br /></td></tr>
<tr class="separator:af7475557639df536d97909a564bba74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0650330688c50c4ad3bb1d08eb1052e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ab0650330688c50c4ad3bb1d08eb1052e">run</a> ()</td></tr>
<tr class="memdesc:ab0650330688c50c4ad3bb1d08eb1052e"><td class="mdescLeft">&#160;</td><td class="mdescRight">calls the atomic force relaxation solver.  <a href="classdftfe_1_1geo_opt_ion.html#ab0650330688c50c4ad3bb1d08eb1052e">More...</a><br /></td></tr>
<tr class="separator:ab0650330688c50c4ad3bb1d08eb1052e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb5880ce8a98127073e001ee4dfee1f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#aacb5880ce8a98127073e001ee4dfee1f">getNumberUnknowns</a> () const</td></tr>
<tr class="memdesc:aacb5880ce8a98127073e001ee4dfee1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain number of unknowns (total number of force components to be relaxed).  <a href="classdftfe_1_1geo_opt_ion.html#aacb5880ce8a98127073e001ee4dfee1f">More...</a><br /></td></tr>
<tr class="separator:aacb5880ce8a98127073e001ee4dfee1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f808cd0da0bd8fbff68e42fb7945c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ab2f808cd0da0bd8fbff68e42fb7945c9">gradient</a> (std::vector&lt; double &gt; &amp;gradient)</td></tr>
<tr class="memdesc:ab2f808cd0da0bd8fbff68e42fb7945c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute function gradient (aka forces).  <a href="classdftfe_1_1geo_opt_ion.html#ab2f808cd0da0bd8fbff68e42fb7945c9">More...</a><br /></td></tr>
<tr class="separator:ab2f808cd0da0bd8fbff68e42fb7945c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88ec95cc0c203aa409480c405f67b26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ad88ec95cc0c203aa409480c405f67b26">update</a> (const std::vector&lt; double &gt; &amp;<a class="el" href="classdftfe_1_1geo_opt_ion.html#a7b3d3798b7f22ac881f1d7a0bc47186e">solution</a>, const bool computeForces=true, const bool useSingleAtomSolutionsInitialGuess=false)</td></tr>
<tr class="memdesc:ad88ec95cc0c203aa409480c405f67b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update atomic positions.  <a href="classdftfe_1_1geo_opt_ion.html#ad88ec95cc0c203aa409480c405f67b26">More...</a><br /></td></tr>
<tr class="separator:ad88ec95cc0c203aa409480c405f67b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d7ebad2061a31a40a65d3eec2d96e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a93d7ebad2061a31a40a65d3eec2d96e6">save</a> ()</td></tr>
<tr class="memdesc:a93d7ebad2061a31a40a65d3eec2d96e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">create checkpoint file for current domain bounding vectors and atomic coordinates.  <a href="classdftfe_1_1geo_opt_ion.html#a93d7ebad2061a31a40a65d3eec2d96e6">More...</a><br /></td></tr>
<tr class="separator:a93d7ebad2061a31a40a65d3eec2d96e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893592ae7ce814dc694a0c1e7fef8c16"><td class="memItemLeft" align="right" valign="top">const MPI_Comm &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a893592ae7ce814dc694a0c1e7fef8c16">getMPICommunicator</a> ()</td></tr>
<tr class="memdesc:a893592ae7ce814dc694a0c1e7fef8c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">get MPI communicator.  <a href="classdftfe_1_1geo_opt_ion.html#a893592ae7ce814dc694a0c1e7fef8c16">More...</a><br /></td></tr>
<tr class="separator:a893592ae7ce814dc694a0c1e7fef8c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e07e99343030651181cfee607dabe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#aa3e07e99343030651181cfee607dabe5">value</a> (std::vector&lt; double &gt; &amp;functionValue)</td></tr>
<tr class="memdesc:aa3e07e99343030651181cfee607dabe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">not implemented  <a href="classdftfe_1_1geo_opt_ion.html#aa3e07e99343030651181cfee607dabe5">More...</a><br /></td></tr>
<tr class="separator:aa3e07e99343030651181cfee607dabe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62243b66adf64430e1a2583bb073089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#aa62243b66adf64430e1a2583bb073089">precondition</a> (std::vector&lt; double &gt; &amp;s, const std::vector&lt; double &gt; &amp;<a class="el" href="classdftfe_1_1geo_opt_ion.html#ab2f808cd0da0bd8fbff68e42fb7945c9">gradient</a>) const</td></tr>
<tr class="memdesc:aa62243b66adf64430e1a2583bb073089"><td class="mdescLeft">&#160;</td><td class="mdescRight">not implemented  <a href="classdftfe_1_1geo_opt_ion.html#aa62243b66adf64430e1a2583bb073089">More...</a><br /></td></tr>
<tr class="separator:aa62243b66adf64430e1a2583bb073089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3d3798b7f22ac881f1d7a0bc47186e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a7b3d3798b7f22ac881f1d7a0bc47186e">solution</a> (std::vector&lt; double &gt; &amp;solution)</td></tr>
<tr class="memdesc:a7b3d3798b7f22ac881f1d7a0bc47186e"><td class="mdescLeft">&#160;</td><td class="mdescRight">not implemented  <a href="classdftfe_1_1geo_opt_ion.html#a7b3d3798b7f22ac881f1d7a0bc47186e">More...</a><br /></td></tr>
<tr class="separator:a7b3d3798b7f22ac881f1d7a0bc47186e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9b590f5ea1823354269784383b3330"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a2b9b590f5ea1823354269784383b3330">getUnknownCountFlag</a> () const</td></tr>
<tr class="memdesc:a2b9b590f5ea1823354269784383b3330"><td class="mdescLeft">&#160;</td><td class="mdescRight">not implemented  <a href="classdftfe_1_1geo_opt_ion.html#a2b9b590f5ea1823354269784383b3330">More...</a><br /></td></tr>
<tr class="separator:a2b9b590f5ea1823354269784383b3330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdftfe_1_1nonlinear_solver_problem"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdftfe_1_1nonlinear_solver_problem')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html">dftfe::nonlinearSolverProblem</a></td></tr>
<tr class="memitem:a6f468b90032ab9339b639b20109706f5 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a6f468b90032ab9339b639b20109706f5">nonlinearSolverProblem</a> ()</td></tr>
<tr class="memdesc:a6f468b90032ab9339b639b20109706f5 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classdftfe_1_1nonlinear_solver_problem.html#a6f468b90032ab9339b639b20109706f5">More...</a><br /></td></tr>
<tr class="separator:a6f468b90032ab9339b639b20109706f5 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859578af1f37f26d4a5e2d5481c4ceab inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a859578af1f37f26d4a5e2d5481c4ceab">~nonlinearSolverProblem</a> ()=0</td></tr>
<tr class="memdesc:a859578af1f37f26d4a5e2d5481c4ceab inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classdftfe_1_1nonlinear_solver_problem.html#a859578af1f37f26d4a5e2d5481c4ceab">More...</a><br /></td></tr>
<tr class="separator:a859578af1f37f26d4a5e2d5481c4ceab inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d9fe730067d7e7f920b26daf06f117 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#ab1d9fe730067d7e7f920b26daf06f117">getNumberUnknowns</a> () const =0</td></tr>
<tr class="memdesc:ab1d9fe730067d7e7f920b26daf06f117 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain number of unknowns.  <a href="classdftfe_1_1nonlinear_solver_problem.html#ab1d9fe730067d7e7f920b26daf06f117">More...</a><br /></td></tr>
<tr class="separator:ab1d9fe730067d7e7f920b26daf06f117 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3448d983593e8e98ee594e4285f1f465 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a3448d983593e8e98ee594e4285f1f465">value</a> (std::vector&lt; double &gt; &amp;functionValue)=0</td></tr>
<tr class="memdesc:a3448d983593e8e98ee594e4285f1f465 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute function value (aka energy).  <a href="classdftfe_1_1nonlinear_solver_problem.html#a3448d983593e8e98ee594e4285f1f465">More...</a><br /></td></tr>
<tr class="separator:a3448d983593e8e98ee594e4285f1f465 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4406839bedb92f39ac663738c699bf1 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#ab4406839bedb92f39ac663738c699bf1">gradient</a> (std::vector&lt; double &gt; &amp;gradient)=0</td></tr>
<tr class="memdesc:ab4406839bedb92f39ac663738c699bf1 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute function gradient (aka forces).  <a href="classdftfe_1_1nonlinear_solver_problem.html#ab4406839bedb92f39ac663738c699bf1">More...</a><br /></td></tr>
<tr class="separator:ab4406839bedb92f39ac663738c699bf1 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241656b20c505dc72996dd20dd4b01a7 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a241656b20c505dc72996dd20dd4b01a7">precondition</a> (std::vector&lt; double &gt; &amp;s, const std::vector&lt; double &gt; &amp;<a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#ab4406839bedb92f39ac663738c699bf1">gradient</a>) const =0</td></tr>
<tr class="memdesc:a241656b20c505dc72996dd20dd4b01a7 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply preconditioner to function gradient.  <a href="classdftfe_1_1nonlinear_solver_problem.html#a241656b20c505dc72996dd20dd4b01a7">More...</a><br /></td></tr>
<tr class="separator:a241656b20c505dc72996dd20dd4b01a7 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ca4f3595908a92b64750edcd6b1068 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a81ca4f3595908a92b64750edcd6b1068">update</a> (const std::vector&lt; double &gt; &amp;<a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a57432a0cd4697e3af47a04923c481ef9">solution</a>, const bool computeForces=true, const bool useSingleAtomSolutionsInitialGuess=false)=0</td></tr>
<tr class="memdesc:a81ca4f3595908a92b64750edcd6b1068 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update solution.  <a href="classdftfe_1_1nonlinear_solver_problem.html#a81ca4f3595908a92b64750edcd6b1068">More...</a><br /></td></tr>
<tr class="separator:a81ca4f3595908a92b64750edcd6b1068 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57432a0cd4697e3af47a04923c481ef9 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a57432a0cd4697e3af47a04923c481ef9">solution</a> (std::vector&lt; double &gt; &amp;solution)=0</td></tr>
<tr class="memdesc:a57432a0cd4697e3af47a04923c481ef9 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain current solution.  <a href="classdftfe_1_1nonlinear_solver_problem.html#a57432a0cd4697e3af47a04923c481ef9">More...</a><br /></td></tr>
<tr class="separator:a57432a0cd4697e3af47a04923c481ef9 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8199691b5b2cb164c078be900440a659 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a8199691b5b2cb164c078be900440a659">getUnknownCountFlag</a> () const =0</td></tr>
<tr class="memdesc:a8199691b5b2cb164c078be900440a659 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">For each unknown indicate whether that unknown should be accumulated. This functionality is needed in the case of parallel execution when domain decomposition is employed. Unknowns residing on processor boundary should only be accumulated once when dot products of vertex fields are computed (e.g. residual).  <a href="classdftfe_1_1nonlinear_solver_problem.html#a8199691b5b2cb164c078be900440a659">More...</a><br /></td></tr>
<tr class="separator:a8199691b5b2cb164c078be900440a659 inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5a7d70f38f60fc254553b3cf42c12d inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#aef5a7d70f38f60fc254553b3cf42c12d">save</a> ()=0</td></tr>
<tr class="memdesc:aef5a7d70f38f60fc254553b3cf42c12d inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">create checkpoint for the current state of the problem i.e problem domain and solution.  <a href="classdftfe_1_1nonlinear_solver_problem.html#aef5a7d70f38f60fc254553b3cf42c12d">More...</a><br /></td></tr>
<tr class="separator:aef5a7d70f38f60fc254553b3cf42c12d inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7975ffa832002cd2ae29185590775be inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memItemLeft" align="right" valign="top">virtual const MPI_Comm &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#aa7975ffa832002cd2ae29185590775be">getMPICommunicator</a> ()=0</td></tr>
<tr class="memdesc:aa7975ffa832002cd2ae29185590775be inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="mdescLeft">&#160;</td><td class="mdescRight">get MPI communicator.  <a href="classdftfe_1_1nonlinear_solver_problem.html#aa7975ffa832002cd2ae29185590775be">More...</a><br /></td></tr>
<tr class="separator:aa7975ffa832002cd2ae29185590775be inherit pub_methods_classdftfe_1_1nonlinear_solver_problem"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8b0f9976b9a1644c5890c82ffd4884bb"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a8b0f9976b9a1644c5890c82ffd4884bb">d_relaxationFlags</a></td></tr>
<tr class="separator:a8b0f9976b9a1644c5890c82ffd4884bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e67104468fd75cddb27e3bfbe7ca183"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a8e67104468fd75cddb27e3bfbe7ca183">d_externalForceOnAtom</a></td></tr>
<tr class="separator:a8e67104468fd75cddb27e3bfbe7ca183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8413fb1364b02a5c10c8d0376e3ace"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#add8413fb1364b02a5c10c8d0376e3ace">d_maximumAtomForceToBeRelaxed</a></td></tr>
<tr class="memdesc:add8413fb1364b02a5c10c8d0376e3ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum force component to be relaxed  <a href="classdftfe_1_1geo_opt_ion.html#add8413fb1364b02a5c10c8d0376e3ace">More...</a><br /></td></tr>
<tr class="separator:add8413fb1364b02a5c10c8d0376e3ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8977aedd820f043dbd32c567e03aa30e"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a8977aedd820f043dbd32c567e03aa30e">d_totalUpdateCalls</a></td></tr>
<tr class="memdesc:a8977aedd820f043dbd32c567e03aa30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of calls to update()  <a href="classdftfe_1_1geo_opt_ion.html#a8977aedd820f043dbd32c567e03aa30e">More...</a><br /></td></tr>
<tr class="separator:a8977aedd820f043dbd32c567e03aa30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10eae15adf3798ea0940a96982d7202"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdftfe_1_1dft_class.html">dftClass</a>&lt; FEOrder, FEOrderElectro &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ad10eae15adf3798ea0940a96982d7202">dftPtr</a></td></tr>
<tr class="memdesc:ad10eae15adf3798ea0940a96982d7202"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to dft class  <a href="classdftfe_1_1geo_opt_ion.html#ad10eae15adf3798ea0940a96982d7202">More...</a><br /></td></tr>
<tr class="separator:ad10eae15adf3798ea0940a96982d7202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db13f92e5cbfd0b3f7e4d8904f54eab"><td class="memItemLeft" align="right" valign="top">const MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a5db13f92e5cbfd0b3f7e4d8904f54eab">mpi_communicator</a></td></tr>
<tr class="memdesc:a5db13f92e5cbfd0b3f7e4d8904f54eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">parallel communication objects  <a href="classdftfe_1_1geo_opt_ion.html#a5db13f92e5cbfd0b3f7e4d8904f54eab">More...</a><br /></td></tr>
<tr class="separator:a5db13f92e5cbfd0b3f7e4d8904f54eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae067b668fe0a808a2d3e994f36e312a8"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ae067b668fe0a808a2d3e994f36e312a8">n_mpi_processes</a></td></tr>
<tr class="separator:ae067b668fe0a808a2d3e994f36e312a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac812b8ebb488c4c19615580238c4196a"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#ac812b8ebb488c4c19615580238c4196a">this_mpi_process</a></td></tr>
<tr class="separator:ac812b8ebb488c4c19615580238c4196a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fa9124eb25662314a27ec2cdb89c82"><td class="memItemLeft" align="right" valign="top">dealii::ConditionalOStream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdftfe_1_1geo_opt_ion.html#a64fa9124eb25662314a27ec2cdb89c82">pcout</a></td></tr>
<tr class="memdesc:a64fa9124eb25662314a27ec2cdb89c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">conditional stream object  <a href="classdftfe_1_1geo_opt_ion.html#a64fa9124eb25662314a27ec2cdb89c82">More...</a><br /></td></tr>
<tr class="separator:a64fa9124eb25662314a27ec2cdb89c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt;<br />
class dftfe::geoOptIon&lt; FEOrder, FEOrderElectro &gt;</div><p >problem class for atomic force relaxation solver. </p>
<dl class="section author"><dt>Author</dt><dd>Sambit Das </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a898d109d571db531f1c517abb5016bba" name="a898d109d571db531f1c517abb5016bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898d109d571db531f1c517abb5016bba">&#9670;&nbsp;</a></span>geoOptIon()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::geoOptIon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdftfe_1_1dft_class.html">dftClass</a>&lt; FEOrder, FEOrderElectro &gt; *&#160;</td>
          <td class="paramname"><em>_dftPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const MPI_Comm &amp;&#160;</td>
          <td class="paramname"><em>mpi_comm_parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_dftPtr</td><td>pointer to dftClass </td></tr>
    <tr><td class="paramname">mpi_comm_parent</td><td>parent mpi_communicator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a893592ae7ce814dc694a0c1e7fef8c16" name="a893592ae7ce814dc694a0c1e7fef8c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893592ae7ce814dc694a0c1e7fef8c16">&#9670;&nbsp;</a></span>getMPICommunicator()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const MPI_Comm &amp; <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::getMPICommunicator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get MPI communicator. </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#aa7975ffa832002cd2ae29185590775be">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="aacb5880ce8a98127073e001ee4dfee1f" name="aacb5880ce8a98127073e001ee4dfee1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb5880ce8a98127073e001ee4dfee1f">&#9670;&nbsp;</a></span>getNumberUnknowns()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::getNumberUnknowns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain number of unknowns (total number of force components to be relaxed). </p>
<dl class="section return"><dt>Returns</dt><dd>int Number of unknowns. </dd></dl>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#ab1d9fe730067d7e7f920b26daf06f117">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="a2b9b590f5ea1823354269784383b3330" name="a2b9b590f5ea1823354269784383b3330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9b590f5ea1823354269784383b3330">&#9670;&nbsp;</a></span>getUnknownCountFlag()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; unsigned int &gt; <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::getUnknownCountFlag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>not implemented </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a8199691b5b2cb164c078be900440a659">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="ab2f808cd0da0bd8fbff68e42fb7945c9" name="ab2f808cd0da0bd8fbff68e42fb7945c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f808cd0da0bd8fbff68e42fb7945c9">&#9670;&nbsp;</a></span>gradient()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::gradient </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>gradient</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute function gradient (aka forces). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gradient</td><td>STL vector for gradient values. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#ab4406839bedb92f39ac663738c699bf1">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="af7475557639df536d97909a564bba74d" name="af7475557639df536d97909a564bba74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7475557639df536d97909a564bba74d">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the data member d_relaxationFlags. </p>

</div>
</div>
<a id="aa62243b66adf64430e1a2583bb073089" name="aa62243b66adf64430e1a2583bb073089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa62243b66adf64430e1a2583bb073089">&#9670;&nbsp;</a></span>precondition()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::precondition </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>gradient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>not implemented </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a241656b20c505dc72996dd20dd4b01a7">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="ab0650330688c50c4ad3bb1d08eb1052e" name="ab0650330688c50c4ad3bb1d08eb1052e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0650330688c50c4ad3bb1d08eb1052e">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calls the atomic force relaxation solver. </p>
<p >Currently we have option of one solver: Polak–Ribière nonlinear CG solver with secant based line search. In future releases, we will have more options like BFGS solver.</p>
<dl class="section return"><dt>Returns</dt><dd>int total geometry update calls </dd></dl>

</div>
</div>
<a id="a93d7ebad2061a31a40a65d3eec2d96e6" name="a93d7ebad2061a31a40a65d3eec2d96e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d7ebad2061a31a40a65d3eec2d96e6">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>create checkpoint file for current domain bounding vectors and atomic coordinates. </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#aef5a7d70f38f60fc254553b3cf42c12d">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="a7b3d3798b7f22ac881f1d7a0bc47186e" name="a7b3d3798b7f22ac881f1d7a0bc47186e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3d3798b7f22ac881f1d7a0bc47186e">&#9670;&nbsp;</a></span>solution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::solution </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>not implemented </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a57432a0cd4697e3af47a04923c481ef9">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="ad88ec95cc0c203aa409480c405f67b26" name="ad88ec95cc0c203aa409480c405f67b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88ec95cc0c203aa409480c405f67b26">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::update </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>computeForces</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>useSingleAtomSolutionsInitialGuess</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update atomic positions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">solution</td><td>displacement of the atoms with respect to their current position. The size of the solution vector is equal to the number of unknowns. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a81ca4f3595908a92b64750edcd6b1068">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<a id="aa3e07e99343030651181cfee607dabe5" name="aa3e07e99343030651181cfee607dabe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e07e99343030651181cfee607dabe5">&#9670;&nbsp;</a></span>value()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::value </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>functionValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>not implemented </p>

<p>Implements <a class="el" href="classdftfe_1_1nonlinear_solver_problem.html#a3448d983593e8e98ee594e4285f1f465">dftfe::nonlinearSolverProblem</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8e67104468fd75cddb27e3bfbe7ca183" name="a8e67104468fd75cddb27e3bfbe7ca183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e67104468fd75cddb27e3bfbe7ca183">&#9670;&nbsp;</a></span>d_externalForceOnAtom</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::d_externalForceOnAtom</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="add8413fb1364b02a5c10c8d0376e3ace" name="add8413fb1364b02a5c10c8d0376e3ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8413fb1364b02a5c10c8d0376e3ace">&#9670;&nbsp;</a></span>d_maximumAtomForceToBeRelaxed</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::d_maximumAtomForceToBeRelaxed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum force component to be relaxed </p>

</div>
</div>
<a id="a8b0f9976b9a1644c5890c82ffd4884bb" name="a8b0f9976b9a1644c5890c82ffd4884bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0f9976b9a1644c5890c82ffd4884bb">&#9670;&nbsp;</a></span>d_relaxationFlags</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;unsigned int&gt; <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::d_relaxationFlags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >storage for relaxation flags and external force components for each global atom. each atom has three flags corresponding to three components (0- no relax, 1- relax) and three external force components </p>

</div>
</div>
<a id="a8977aedd820f043dbd32c567e03aa30e" name="a8977aedd820f043dbd32c567e03aa30e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8977aedd820f043dbd32c567e03aa30e">&#9670;&nbsp;</a></span>d_totalUpdateCalls</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::d_totalUpdateCalls</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>total number of calls to update() </p>

</div>
</div>
<a id="ad10eae15adf3798ea0940a96982d7202" name="ad10eae15adf3798ea0940a96982d7202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10eae15adf3798ea0940a96982d7202">&#9670;&nbsp;</a></span>dftPtr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdftfe_1_1dft_class.html">dftClass</a>&lt;FEOrder, FEOrderElectro&gt;* <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::dftPtr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>pointer to dft class </p>

</div>
</div>
<a id="a5db13f92e5cbfd0b3f7e4d8904f54eab" name="a5db13f92e5cbfd0b3f7e4d8904f54eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db13f92e5cbfd0b3f7e4d8904f54eab">&#9670;&nbsp;</a></span>mpi_communicator</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const MPI_Comm <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::mpi_communicator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>parallel communication objects </p>

</div>
</div>
<a id="ae067b668fe0a808a2d3e994f36e312a8" name="ae067b668fe0a808a2d3e994f36e312a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae067b668fe0a808a2d3e994f36e312a8">&#9670;&nbsp;</a></span>n_mpi_processes</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::n_mpi_processes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a64fa9124eb25662314a27ec2cdb89c82" name="a64fa9124eb25662314a27ec2cdb89c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64fa9124eb25662314a27ec2cdb89c82">&#9670;&nbsp;</a></span>pcout</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dealii::ConditionalOStream <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::pcout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>conditional stream object </p>

</div>
</div>
<a id="ac812b8ebb488c4c19615580238c4196a" name="ac812b8ebb488c4c19615580238c4196a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac812b8ebb488c4c19615580238c4196a">&#9670;&nbsp;</a></span>this_mpi_process</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;unsigned int FEOrder, unsigned int FEOrderElectro&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classdftfe_1_1geo_opt_ion.html">dftfe::geoOptIon</a>&lt; FEOrder, FEOrderElectro &gt;::this_mpi_process</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>workspace/include/<a class="el" href="geo_opt_ion_8h_source.html">geoOptIon.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
